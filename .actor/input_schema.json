{
  "title": "AWS Content Monitor Input",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "mode": {
      "title": "Execution Mode",
      "type": "string",
      "description": "Choose what type of monitoring to perform",
      "enum": ["profile", "global", "custom"],
      "enumTitles": ["Resource Profile", "Global AWS Monitoring", "Custom URLs"],
      "default": "global",
      "editor": "select"
    },
    "profileId": {
      "title": "Resource Profile ID",
      "type": "string",
      "description": "ID of the resource profile to execute (required for profile mode)",
      "editor": "textfield"
    },
    "customUrls": {
      "title": "Custom URLs",
      "type": "array",
      "description": "List of URLs to monitor (for custom mode)",
      "editor": "stringList",
      "items": {
        "type": "string",
        "format": "uri"
      }
    },
    "reportingPeriod": {
      "title": "Reporting Period",
      "type": "object",
      "description": "Date range for change detection and digest generation",
      "editor": "json",
      "properties": {
        "startDate": {
          "title": "Start Date",
          "type": "string",
          "format": "date",
          "description": "Start date for the reporting period (YYYY-MM-DD)",
          "editor": "textfield"
        },
        "endDate": {
          "title": "End Date", 
          "type": "string",
          "format": "date",
          "description": "End date for the reporting period (YYYY-MM-DD)",
          "editor": "textfield"
        }
      },
      "required": ["startDate", "endDate"]
    },
    "scrapingConfig": {
      "title": "Scraping Configuration",
      "type": "object",
      "description": "Configuration for content discovery and extraction",
      "editor": "json",
      "properties": {
        "maxDepth": {
          "title": "Maximum Scraping Depth",
          "type": "integer",
          "description": "Maximum depth for following links",
          "minimum": 1,
          "maximum": 5,
          "default": 2,
          "editor": "number"
        },
        "includeDownloads": {
          "title": "Include Downloads",
          "type": "boolean",
          "description": "Whether to download and process PDF/DOCX files",
          "default": true,
          "editor": "checkbox"
        },
        "allowedDomains": {
          "title": "Allowed Domains",
          "type": "array",
          "description": "List of domains to include (empty = all AWS domains)",
          "editor": "stringList",
          "items": {
            "type": "string"
          },
          "default": ["aws.amazon.com", "docs.aws.amazon.com"]
        }
      }
    },
    "outputConfig": {
      "title": "Output Configuration",
      "type": "object",
      "description": "Configuration for output generation",
      "editor": "json",
      "properties": {
        "generateDigest": {
          "title": "Generate Intelligence Digest",
          "type": "boolean",
          "description": "Whether to generate a human-readable digest",
          "default": true,
          "editor": "checkbox"
        },
        "outputFormats": {
          "title": "Output Formats",
          "type": "array",
          "description": "Formats to generate for the digest",
          "editor": "select",
          "items": {
            "type": "string",
            "enum": ["text", "html", "pdf", "json"]
          },
          "default": ["text", "json"]
        },
        "includeRawData": {
          "title": "Include Raw Data",
          "type": "boolean", 
          "description": "Whether to include raw extracted content in output",
          "default": false,
          "editor": "checkbox"
        }
      }
    }
  },
  "required": ["mode", "reportingPeriod"]
}